<!doctype html><html lang="zh-cn"
  >
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mysql渗透基础 - cornradio的技术博客</title><link rel="apple-touch-icon" href="https://cornradio.github.io/hugo/images/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="https://cornradio.github.io/hugo/images/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="https://cornradio.github.io/hugo/images/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="https://cornradio.github.io/hugo/images/favicons/manifest.json">
<link rel="icon" href="https://cornradio.github.io/hugo/images/favicons/favicon.ico">
<meta name="keywords" content="" />
<meta name="description" content="" /><meta itemprop="name" content="Mysql渗透基础">
<meta itemprop="description" content="mysql 常用的命令行操作、新建删除数据库、新建删除表、修改表结构、操作表数据、表内的常用语法等。"><meta itemprop="datePublished" content="2023-03-30T22:22:41+08:00" />
<meta itemprop="dateModified" content="2023-03-30T22:22:41+08:00" />
<meta itemprop="wordCount" content="2691">
<meta itemprop="keywords" content="mysql," /><meta property="og:title" content="Mysql渗透基础" />
<meta property="og:description" content="mysql 常用的命令行操作、新建删除数据库、新建删除表、修改表结构、操作表数据、表内的常用语法等。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cornradio.github.io/hugo/posts/2023-03-30-mysql%E6%B8%97%E9%80%8F%E5%9F%BA%E7%A1%80/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-30T22:22:41+08:00" />
<meta property="article:modified_time" content="2023-03-30T22:22:41+08:00" /><meta property="og:site_name" content="cornradio的技术博客" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Mysql渗透基础"/>
<meta name="twitter:description" content="mysql 常用的命令行操作、新建删除数据库、新建删除表、修改表结构、操作表数据、表内的常用语法等。"/>
<link rel="preload" href="https://cornradio.github.io/hugo/css/bundle.min.0f88583c7f30bf4c56e86ca3ffd2f842236c71281d8221bfec10e2179697bf7c.css" integrity="sha256-D4hYPH8wv0xW6Gyj/9L4QiNscSgdgiG/7BDiF5aXv3w=" crossorigin="anonymous" as="style" onload="this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cornradio.github.io/hugo/css/bundle.min.0f88583c7f30bf4c56e86ca3ffd2f842236c71281d8221bfec10e2179697bf7c.css" integrity="sha256-D4hYPH8wv0xW6Gyj/9L4QiNscSgdgiG/7BDiF5aXv3w=" crossorigin="anonymous"></noscript></head>
  <body><script src="https://cornradio.github.io/hugo/js/bootstrap.min.062c2e66b557cb779d59cedff7e0cc76e84beb665a1076e474e87d940be44245.js" integrity="sha256-BiwuZrVXy3edWc7f9&#43;DMduhL62ZaEHbkdOh9lAvkQkU=" crossorigin="anonymous"></script><header><nav class="navbar top-app-bar top-app-bar-expand-lg fixed-top">
  <div class="container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <i class="fas fa-bars"></i>
    </button><a class="navbar-brand me-3" href="https://cornradio.github.io/hugo/">CronRadio
    </a>
    <button class="navbar-social-share" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSocialShare"
  aria-controls="offcanvasSocialShare" aria-label="Toggle social share">
  <i class="fas fa-share-alt"></i>
</button>

<div class="offcanvas offcanvas-bottom surface" tabindex="-1" id="offcanvasSocialShare" aria-labelledby="offcanvasSocialShare">
  <div class="offcanvas-header">
    <h3 class="offcanvas-title">Share</h3>
    <button type="button" class="btn btn-sm btn-outline-primary" data-bs-dismiss="offcanvas" aria-label="Close">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="offcanvas-body">
    <a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Twitter Share Button"
      target="_blank" href="https://twitter.com/intent/tweet?title=Mysql%e6%b8%97%e9%80%8f%e5%9f%ba%e7%a1%80&url=https%3a%2f%2fcornradio.github.io%2fhugo%2fposts%2f2023-03-30-mysql%25E6%25B8%2597%25E9%2580%258F%25E5%259F%25BA%25E7%25A1%2580%2f">
      <i class="fab fa-fw fa-twitter"></i> Twitter
    </a>
    <a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Facebook Share Button"
      target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fcornradio.github.io%2fhugo%2fposts%2f2023-03-30-mysql%25E6%25B8%2597%25E9%2580%258F%25E5%259F%25BA%25E7%25A1%2580%2f">
      <i class="fab fa-fw fa-facebook-f"></i> Facebook
    </a>
  </div>
</div>

    <button class="navbar-settings" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSettings"
  aria-controls="offcanvasSettings" aria-label="Toggle settings">
  <i class="fas fa-ellipsis-v"></i>
</button>

<div class="offcanvas offcanvas-end surface h-100" tabindex="-1" id="offcanvasSettings" aria-labelledby="offcanvasSettings">
  <div class="offcanvas-header">
    <h3 class="offcanvas-title">设置</h3>
    <button type="button" class="btn btn-sm btn-outline-primary" data-bs-dismiss="offcanvas" aria-label="Close">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="offcanvas-body">

<section class="setting">
  <form class="row">
    <div class="col-auto">
      <label><i class="fas fa-fw fa-adjust"></i> 模式</label>
    </div>
    <div class="col-auto ms-auto">
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="modeSwitcher">
      </div>
    </div>
  </form>
</section>

<section class="setting">
  <form class="font-size-switcher-form row">
    <div class="col-auto">
      <label for="fontSize" class="form-label"><i class="fas fa-fw fa-font"></i> 字体大小</label>
    </div>
    <div class="col-auto ms-auto">
      <input type="range" class="form-range" min="-2" max="2" id="fontSize">
    </div>
  </form>
</section>


<section class="setting palettes">
  <form class="row">
    <div class="col-auto">
      <label><i class="fas fa-fw fa-palette"></i> 配色</label>
    </div>
    <div class="col-auto ms-auto">
      <a id="btnPalette" class="btn btn-sm btn-outline-primary" role="button" aria-label="palettePicker">
        <i class="fas fa-eye-dropper"></i>
      </a>
    </div>
  </form>
  <div class="mt-2 d-flex visually-hidden" id="palettePicker"><button type="button" id="palette-blue" aria-label="蓝色"
        class="btn btn-sm palette" data-palette="blue">
      </button><button type="button" id="palette-blue-gray" aria-label="蓝灰色"
        class="btn btn-sm palette" data-palette="blue-gray">
      </button><button type="button" id="palette-brown" aria-label="棕色"
        class="btn btn-sm palette" data-palette="brown">
      </button><button type="button" id="palette-cyan" aria-label="青色"
        class="btn btn-sm palette" data-palette="cyan">
      </button><button type="button" id="palette-green" aria-label="绿色"
        class="btn btn-sm palette" data-palette="green">
      </button><button type="button" id="palette-indigo" aria-label="靛青色"
        class="btn btn-sm palette" data-palette="indigo">
      </button><button type="button" id="palette-orange" aria-label="橙色"
        class="btn btn-sm palette" data-palette="orange">
      </button><button type="button" id="palette-pink" aria-label="粉色"
        class="btn btn-sm palette" data-palette="pink">
      </button><button type="button" id="palette-purple" aria-label="紫色"
        class="btn btn-sm palette" data-palette="purple">
      </button><button type="button" id="palette-red" aria-label="红色"
        class="btn btn-sm palette" data-palette="red">
      </button><button type="button" id="palette-teal" aria-label="蓝绿色"
        class="btn btn-sm palette" data-palette="teal">
      </button><button type="button" id="palette-yellow" aria-label="黄色"
        class="btn btn-sm palette" data-palette="yellow">
      </button></div>
</section>
</div>
</div>

    <div class="collapse navbar-collapse" tabindex="-1" id="navbarSupportedContent" aria-labelledby="navbarSupportedContent">
      <form class="search-bar my-1" action="https://cornradio.github.io/hugo/search">
  <div class="input-group input-group-sm">
    <span class="btn btn-search disabled position-absolute left-0"><i class="fas fa-fw fa-search"></i></span>
    <input class="form-control rounded-pill" name="q" type="search" aria-label="Search">
  </div>
</form>

      <ul class="navbar-nav ms-auto"><li class="nav-item">
          <a class="nav-link" href="https://cornradio.github.io/hugo/archives/">
            <i class="fas fa-fw fa-file-archive"></i>归档
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="https://cornradio.github.io/hugo/series/">
            <i class="fas fa-fw fa-folder"></i>专栏
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="https://cornradio.github.io/hugo/categories/">
            <i class="fas fa-fw fa-folder"></i>分类
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="https://cornradio.github.io/hugo/tags/">
            <i class="fas fa-fw fa-tags"></i>标签
          </a>
        </li><li class="nav-item dropdown">
          <a class="nav-link" id="navbarDropdown-dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fas fa-fw fa-chevron-circle-down"></i>快速位置
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown-dropdown"><li>
              <a class="dropdown-item"
                href="https://www.google.com.hk/search?q=site%3Acornradio.github.io&#43;a" target="_blank" rel="noopener noreferrer">
                z用谷歌搜索本站
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://cornradio.github.io/unimportant_sites/clock.html" target="_blank" rel="noopener noreferrer">
                ⌚浏览器电子表
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://cornradio.github.io/get%20a%20life2.html" target="_blank" rel="noopener noreferrer">
                ✈飞机坪
              </a>
            </li><li>
              <a class="dropdown-item"
                href="http://124.223.57.166/ahk" target="_blank" rel="noopener noreferrer">
                🅰ahk小工具
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://cornradio.github.io/unimportant_sites/my-link.html" target="_blank" rel="noopener noreferrer">
                🗺小小导航
              </a>
            </li></ul>
        </li></ul>
    </div>
  </div>
</nav>
</header>
<main role="main" class="container">
      <div class="row content">
<div class="col-lg-8">
  <div class="container"><nav class="row card component" aria-label="breadcrumb">
  <div class="card-body">
    <ol class="breadcrumb "><li class="breadcrumb-item"><a href="https://cornradio.github.io/hugo/">主页</a></li><li class="breadcrumb-item"><a href="https://cornradio.github.io/hugo/posts/">Posts</a></li><li class="breadcrumb-item active">Mysql渗透基础</li></ol>
  </div>
</nav>    <article class="row card component mb-4 post"><div class="post-panel-wrapper">
  <div class="d-flex flex-column component rounded post-panel">
    
    <a id="sidebarToggler" class="action d-none d-lg-block" role="button">
  <i class="fas fa-fw fa-expand-alt" data-fa-transform="rotate-45"></i>
</a>
  
    

    
    <a class="action" data-bs-container="body" data-bs-toggle="popover" data-bs-html="true" data-bs-placement="bottom"
  data-bs-trigger="focus" tabindex="0" role="button" aria-label="Copyright" 
  data-bs-content="&lt;a target=&#34;_blank&#34; rel=&#34;license noopener noreferrer&#34; href=&#34;https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh&#34;&gt;CC BY-NC-ND 4.0 &lt;i class=&#34;fab fa-fw fa-creative-commons&#34;&gt;&lt;/i&gt;&lt;i class=&#34;fab fa-fw fa-creative-commons-by&#34;&gt;&lt;/i&gt;&lt;i class=&#34;fab fa-fw fa-creative-commons-nc&#34;&gt;&lt;/i&gt;&lt;i class=&#34;fab fa-fw fa-creative-commons-nd&#34;&gt;&lt;/i&gt;&lt;/a&gt;
">
  <i class="fas fa-fw fa-copyright"></i>
</a>
    <a class="action" data-bs-toggle="offcanvas" href="#offcanvasTOC" aria-controls="offcanvasTOC" role="button">
  <i class="fas fa-fw fa-list-alt"></i>
</a>
    
  </div>
</div>
<div class="card-body">
        <h1 class="card-title my-3">Mysql渗透基础
</h1><div class="post-meta"><span class="post-date" title="created on">
    <i class="fas fa-fw fa-calendar-alt"></i>2023-03-30
  </span><span class="post-reading-time" title="reading time">
    <i class="fas fa-fw fa-coffee"></i>6 分钟阅读
  </span><a href="https://cornradio.github.io/hugo/tags/mysql/" class="badge rounded-pill text-white bg-primary post-taxonomy">mysql</a></div>
<div class="offcanvas offcanvas-end surface h-100" tabindex="-1" id="offcanvasTOC" aria-labelledby="offcanvasTOCLabel">
  <div class="offcanvas-header">
    <h2 class="offcanvas-title" id="offcanvasTOCLabel">目录</h5>
      <button type="button" class="btn btn-sm btn-outline-primary" data-bs-dismiss="offcanvas" aria-label="Close">
        <i class="fas fa-times"></i>
      </button>
  </div>
  <div class="offcanvas-body">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#mysql--for-pentest">mysql&ndash;for pentest</a>
      <ul>
        <li><a href="#登录">登录</a></li>
        <li><a href="#帮助命令">帮助命令</a></li>
        <li><a href="#查看-mysql-用户的密码">查看 mysql 用户的密码</a></li>
        <li><a href="#注释在渗透中比较有用">注释(在渗透中比较有用)</a></li>
        <li><a href="#增删改查数据库">增删改查(数据库)</a></li>
        <li><a href="#基础操作实例数据库新建表查看表定义删除库引擎和编码">基础操作实例(数据库新建表，查看表定义，删除库，引擎和编码)</a></li>
        <li><a href="#alter-table-修改表字段定义表名引擎">alter table 修改表（字段定义、表名、引擎）</a></li>
        <li><a href="#查询表">查询表</a></li>
        <li><a href="#查">查</a></li>
        <li><a href="#快速备份一个表">快速备份一个表</a></li>
        <li><a href="#猛烈的删除一个表">猛烈的删除一个表</a></li>
        <li><a href="#退出mysql命令行">退出mysql命令行</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div><div class="post-content mb-3"><p>mysql 常用的命令行操作、新建删除数据库、新建删除表、修改表结构、操作表数据、表内的常用语法等。</p>
<h2 id="mysql--for-pentest">mysql&ndash;for pentest</h2>
<p>先把 phpStudy 的 mysql 服务启动起来，然后保证<code>phpStudy\MySQL\bin</code> 在环境变量里面。</p>
<h3 id="登录">登录</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">mysql -uroot -p -P3306
</span></span></code></pre></div><ul>
<li>-u: 用户名</li>
<li>-p: 密码</li>
<li>-P: 端口</li>
<li>-h: 主机</li>
<li>-D: 数据库</li>
</ul>
<h3 id="帮助命令">帮助命令</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">mysql &gt; ?
</span></span><span class="line"><span class="ln">2</span><span class="cl">mysql &gt; help
</span></span></code></pre></div><h3 id="查看-mysql-用户的密码">查看 mysql 用户的密码</h3>
<pre><code>desc mysql.user;
</code></pre>
<p>展示表结构，搜索<code>auth</code>，找到 <code>authentication_string</code>，就是密码。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">select authentication_string,user from mysql.user;
</span></span><span class="line"><span class="ln">2</span><span class="cl">
</span></span><span class="line"><span class="ln">3</span><span class="cl">+-------------------------------------------+---------------+
</span></span><span class="line"><span class="ln">4</span><span class="cl">| authentication_string                     | user          |
</span></span><span class="line"><span class="ln">5</span><span class="cl">+-------------------------------------------+---------------+
</span></span><span class="line"><span class="ln">6</span><span class="cl">| *81F5E21E35407D884A6CD4A731AEBFB6AF209E1B | root          |
</span></span><span class="line"><span class="ln">7</span><span class="cl">| *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql.session |
</span></span><span class="line"><span class="ln">8</span><span class="cl">| *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql.sys     |
</span></span><span class="line"><span class="ln">9</span><span class="cl">+-------------------------------------------+---------------+
</span></span></code></pre></div><h3 id="注释在渗透中比较有用">注释(在渗透中比较有用)</h3>
<p>有三种注释方式：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">#注释
</span></span><span class="line"><span class="ln">2</span><span class="cl">-- 注释
</span></span><span class="line"><span class="ln">3</span><span class="cl">/*注释*/
</span></span></code></pre></div><p>注意第二种需要有个空格；</p>
<h3 id="增删改查数据库">增删改查(数据库)</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">增：create database db1;
</span></span><span class="line"><span class="ln">2</span><span class="cl">删：drop database db1;
</span></span><span class="line"><span class="ln">3</span><span class="cl">改：alter database db1 charset utf8
</span></span><span class="line"><span class="ln">4</span><span class="cl">查：show databases;#查看所有的数据库
</span></span></code></pre></div><h3 id="基础操作实例数据库新建表查看表定义删除库引擎和编码">基础操作实例(数据库新建表，查看表定义，删除库，引擎和编码)</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="k">create</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">moondata</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="w"></span><span class="o">#</span><span class="err">创建数据库</span><span class="n">moondata</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="w"></span><span class="k">show</span><span class="w"> </span><span class="n">databases</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="w"></span><span class="o">#</span><span class="err">展示所有数据库</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="w"></span><span class="n">use</span><span class="w"> </span><span class="n">mysql</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="w"></span><span class="o">#</span><span class="err">切换到</span><span class="n">mysql数据库</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="w"></span><span class="k">show</span><span class="w"> </span><span class="n">tables</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="w"></span><span class="o">#</span><span class="err">展示所有</span><span class="k">table</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="w"></span><span class="k">desc</span><span class="w"> </span><span class="k">user</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="w"></span><span class="o">#</span><span class="err">展示</span><span class="n">user表定义</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln"> 1</span><span class="cl">+--------------------+
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">| Database           |
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">+--------------------+
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">| information_schema |
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">| moondata           |
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">| mysql              |
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">| performance_schema |
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">| sys                |
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">| test               |
</span></span><span class="line"><span class="ln">10</span><span class="cl">+--------------------+
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w">  </span><span class="n">username</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="w">  </span><span class="n">email</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="w">  </span><span class="n">password</span><span class="w"> </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="w">  </span><span class="n">updated_at</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CURRENT_TIMESTAMP</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="ln">8</span><span class="cl"><span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="ln">9</span><span class="cl"><span class="w"></span><span class="p">)</span><span class="n">engine</span><span class="o">=</span><span class="n">myisam</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="n">charset</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">drop database moondata;
</span></span></code></pre></div><h4 id="myisam引擎和innodb引擎">myisam引擎和InnoDB引擎</h4>
<p>engine=myisam 表示使用 MyISAM 存储引擎创建表。MyISAM 是一种基于文件的存储引擎，它适合用于读密集型应用。与其他存储引擎相比，MyISAM 不支持事务和行级锁定，但它的独特设计使其能够快速执行大量查询。在早期版本的 MySQL 中，默认的存储引擎就是 MyISAM，但是在现代化的应用程序中，InnoDB 等更强大的存储引擎通常被视为首选。</p>
<p>如果使用 MyISAM 存储引擎创建表，需要手动设置字符集和排序规则，如果在创建表时没有指定字符集，则可能会导致数据存储出现乱码等问题。</p>
<p>default charset=utf8 表示使用 UTF-，MySQL 5.5 及以上版本的默认字符集确实是 UTF-8，在 MySQL 4.1 及更早版本中，默认字符集是 Latin1（ISO-8859-1），而不是 UTF-8。
因此，如果使用较老的 MySQL 版本，则需要手动设置字符集。</p>
<blockquote>
<p>InnoDB 和 MyISAM 这两个存储引擎的名称都有一定的历史渊源。</p>
</blockquote>
<blockquote>
<p>InnoDB 最初是由 Innobase Oy（一个芬兰的数据库软件公司）开发的，该公司于 2005 年被 MySQL AB（现在是 Oracle Corporation 的子公司）收购。因此，&ldquo;Inno&quot;代表了 Innobase 公司的名称，&ldquo;DB&quot;则代表数据库。</p>
</blockquote>
<blockquote>
<p>MyISAM 的名称也有一定的来源。在 MySQL 早期版本中，ISAM（Indexed Sequential Access Method）是一种基于文件的存储引擎，而 MyISAM 实际上是 ISAM 的一个改进版本。&ldquo;My&quot;则代表了 MySQL。因此，MyISAM 实际上是&quot;My SQL Indexed Sequential Access Method&quot;的缩写。</p>
</blockquote>
<h3 id="alter-table-修改表字段定义表名引擎">alter table 修改表（字段定义、表名、引擎）</h3>
<p>使用 alter，你可以做到：</p>
<ul>
<li>修改表名 table rename</li>
<li>修改表的引擎 table engine</li>
<li>修改表的字符集 table charset</li>
<li>添加字段 table add column</li>
<li>删除字段 table drop</li>
<li>修改字段名称 table change</li>
<li>修改字段类型 table modify</li>
</ul>
<p>下面是一些例子，推荐弄到datagrip里面执行感受感受；</p>
<blockquote>
<p>datagrip 是 jetbrains 的数据库工具</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="ln">1</span><span class="cl"><span class="o">#</span><span class="w"> </span><span class="err">创建</span><span class="n">person表</span><span class="err">，字段</span><span class="n">id</span><span class="w"> </span><span class="err">，</span><span class="w"> </span><span class="n">first_name</span><span class="w"> </span><span class="err">，</span><span class="w"> </span><span class="n">last_name</span><span class="w"> </span><span class="err">，</span><span class="w"> </span><span class="n">age</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w"></span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">person2</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w"></span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="w"></span><span class="n">first_name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="w"></span><span class="n">last_name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="w"></span><span class="n">age</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="w"></span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="ln">8</span><span class="cl"><span class="w"></span><span class="p">)</span><span class="n">engine</span><span class="o">=</span><span class="n">innodb</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="n">charset</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="k">rename</span><span class="w"> </span><span class="n">person2</span><span class="p">;</span><span class="o">#</span><span class="err">修改表格名称</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="w"></span><span class="k">desc</span><span class="w"> </span><span class="n">db1</span><span class="p">.</span><span class="n">person2</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">展示表结构</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="w"></span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="k">modify</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="n">auto_increment</span><span class="p">;</span><span class="o">#</span><span class="err">修改</span><span class="n">id列类型为int</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="err">默认</span><span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="p">,</span><span class="n">auto_increment自增</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="w"></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">设置自增起始值</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="w"></span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="n">last_name</span><span class="p">;</span><span class="o">#</span><span class="err">删除列</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="w"></span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">first_name</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span><span class="o">#</span><span class="err">修改</span><span class="n">id列名称为uid</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="w"></span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span><span class="o">#</span><span class="err">添加列</span><span class="w">
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="w"></span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">birthday</span><span class="w"> </span><span class="n">datetime</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="w"></span><span class="k">alter</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="n">engine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">innodb</span><span class="p">;</span><span class="o">#</span><span class="err">修改表引擎</span><span class="w">
</span></span></span></code></pre></div><h4 id="关于auto_increment">关于auto_increment</h4>
<p>如果您删除了表中的行，则auto_increment值不会重置，而是会继续递增。</p>
<p>这是因为MySQL在设计时就决定了auto_increment值应该是永久性的、唯一的、不可重复的。</p>
<p>即使您删除了之前插入的所有行，下一个新插入的行的auto_increment值也会继续递增，确保值的唯一性。</p>
<p>不过你可以通过 alter 重设 AUTO_INCREMENT ，不如重新设置成1。(如果删除了表中的id没有比1小的值，那么下一个插入的id值就是1，否则还是看表中最大的id值，然后id+1)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">ALTER TABLE person2 AUTO_INCREMENT=1; #重设AUTO_INCREMENT为1
</span></span><span class="line"><span class="ln">2</span><span class="cl">
</span></span><span class="line"><span class="ln">3</span><span class="cl">TRUNCATE TABLE db1.person2; #清空表，速度及快，重置自增列的值
</span></span></code></pre></div><h3 id="查询表">查询表</h3>
<p>为了查询，得先搞一点数据，我让gpt帮我生成了这些：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="ln">1</span><span class="cl"><span class="o">#</span><span class="w"> </span><span class="err">创建表</span><span class="n">person2</span><span class="err">，</span><span class="n">id为主键</span><span class="err">，自增，</span><span class="n">name为varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="err">，</span><span class="n">password为varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="err">，</span><span class="n">age为int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w"></span><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">person2</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w"></span><span class="n">id</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="n">auto_increment</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="w"></span><span class="n">name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="w"></span><span class="n">password</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="w"></span><span class="n">age</span><span class="w"> </span><span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="w"></span><span class="p">)</span><span class="n">engine</span><span class="o">=</span><span class="n">innodb</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="n">charset</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln"> 1</span><span class="cl">insert into db1.person2(name,password, age) values(&#39;LandonHills&#39;,&#39;Ku$we12!id&#39;,24);
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">insert into db1.person2(name,password, age) values(&#39;JasonGreen&#39;,&#39;Dr#8&amp;7hjKl&#39;,31);
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">insert into db1.person2(name,password, age) values(&#39;KennethJones&#39;,&#39;@kiow23!Gd&#39;,42);
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">insert into db1.person2(name,password, age) values(&#39;SamanthaSmith&#39;,&#39;Rt%4^fEeD3&#39;,20);
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">insert into db1.person2(name,password, age) values(&#39;NatalieAllen&#39;,&#39;^Hg6fDsE2$&#39;,28);
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">insert into db1.person2(name,password, age) values(&#39;ChristopherWalker&#39;,&#39;*iop87Jk9#&#39;,26);
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">insert into db1.person2(name,password, age) values(&#39;MelanieWilson&#39;,&#39;@plo5$asW1&#39;,29);
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">insert into db1.person2(name,password, age) values(&#39;NicholasClark&#39;,&#39;Lm#90^kOp2&#39;,35);
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">insert into db1.person2(name,password, age) values(&#39;AshleyRamirez&#39;,&#39;TgF$35lkPd&#39;,19);
</span></span><span class="line"><span class="ln">10</span><span class="cl">insert into db1.person2(name,password, age) values(&#39;JessicaTaylor&#39;,&#39;Wq@vbn45Rt&#39;,48);
</span></span></code></pre></div><h4 id="增">增</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="err">表名</span><span class="w"> </span><span class="k">VALUES</span><span class="p">(</span><span class="err">值</span><span class="mi">1</span><span class="err">，值</span><span class="mi">2</span><span class="err">，…</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="err">表名（字段</span><span class="mi">1</span><span class="err">，字段</span><span class="mi">2</span><span class="err">，…）</span><span class="k">VALUES</span><span class="p">(</span><span class="err">值</span><span class="mi">1</span><span class="err">，值</span><span class="mi">2</span><span class="err">，…</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="err">表名</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="err">字段名</span><span class="mi">1</span><span class="o">=</span><span class="err">值</span><span class="mi">1</span><span class="p">[,</span><span class="err">字段名</span><span class="mi">2</span><span class="o">=</span><span class="err">值</span><span class="mi">2</span><span class="err">，…</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="err">同时添加多条数据</span><span class="w">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="err">表名</span><span class="p">[(</span><span class="err">字段名</span><span class="mi">1</span><span class="err">，字段名</span><span class="mi">2</span><span class="err">，…</span><span class="p">)]</span><span class="k">VALUES</span><span class="w"> </span><span class="err">（值</span><span class="mi">1</span><span class="err">，值</span><span class="mi">2</span><span class="err">，…），（值</span><span class="mi">1</span><span class="err">，值</span><span class="mi">2</span><span class="err">，…），</span><span class="w">
</span></span></span></code></pre></div><h4 id="删">删</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">DELETE FROM 表名 [WHERE 条件表达式]
</span></span></code></pre></div><h4 id="改更新">改（更新）</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">UPDATE 表名 SET 字段名1=值1，[ ，字段名2=值2，…][ WHERE 条件表达式 ]
</span></span><span class="line"><span class="ln">2</span><span class="cl">
</span></span><span class="line"><span class="ln">3</span><span class="cl">update users set  password=&#39;123456&#39;,username=&#39;moon&#39; where id=1
</span></span><span class="line"><span class="ln">4</span><span class="cl">update users set  password=&#39;aaaa&#39; where id=1;
</span></span><span class="line"><span class="ln">5</span><span class="cl">update users set  password=456789;
</span></span></code></pre></div><h3 id="查">查</h3>
<h4 id="基础查询">基础查询</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">db1</span><span class="p">.</span><span class="n">person2</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">展示表中所有数据</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="w"></span><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">db1</span><span class="p">.</span><span class="n">person2</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">删除</span><span class="n">id为1的数据</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;J%&#39;</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">查询</span><span class="n">name以J开头的数据</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%n&#39;</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">查询</span><span class="n">name以n结尾的数据</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%Allen%&#39;</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">查询</span><span class="n">name中包含Allen的数据</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="err">和</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="err">的优先级是</span><span class="k">and</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="k">or</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;AshleyRamirez&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;TgF$35lkPd&#39;</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">一般的登录查询密码语句</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="err">基于单引号的注入：在用户输入中插入单引号（</span><span class="s1">&#39;），从而破坏SQL语句的完整性。or 1=1 为真，所以查询出所有数据
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="s1">SELECT * FROM person2 WHERE name = &#39;</span><span class="n">AshleyRamirez</span><span class="s1">&#39; AND password = &#39;&#39; OR 1=1 -- &#39;</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">这个语句会查询出所有数据</span><span class="w">
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="err">基于分号的注入：在用户输入中添加分号（</span><span class="p">;</span><span class="err">）可以执行多个</span><span class="n">SQL语句</span><span class="err">。</span><span class="w">
</span></span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;AshleyRamirez&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span><span class="w"> </span><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">person2</span><span class="p">;</span><span class="w"> </span><span class="c1">-- &#39;#这个语句会删除表
</span></span></span></code></pre></div><h4 id="联合查询">联合查询</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl"># COUNT() 返回某列的行数
</span></span><span class="line"><span class="ln">2</span><span class="cl"># SUM() 返回某列值的和
</span></span><span class="line"><span class="ln">3</span><span class="cl"># AVG() 返回某列的平均值
</span></span><span class="line"><span class="ln">4</span><span class="cl"># MAX() 返回某列的最大值
</span></span><span class="line"><span class="ln">5</span><span class="cl"># MIN() 返回某列的最小值
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">select count(*) from person2; #查询表中数据总数
</span></span><span class="line"><span class="ln">2</span><span class="cl">select count(*) from person2 where age &gt; 30; #查询表中年龄大于30的数据总数
</span></span><span class="line"><span class="ln">3</span><span class="cl">select avg(age) from person2; #查询表中年龄平均值
</span></span><span class="line"><span class="ln">4</span><span class="cl">select max(age) from person2; #查询表中年龄最大值
</span></span><span class="line"><span class="ln">5</span><span class="cl">select min(age) from person2; #查询表中年龄最小值
</span></span></code></pre></div><h4 id="分组查询-groupby">分组查询 groupby</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="ln">1</span><span class="cl"><span class="o">#</span><span class="w"> </span><span class="n">groupby</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="err">如果不能用，在</span><span class="n">my</span><span class="p">.</span><span class="n">ini</span><span class="o">/</span><span class="n">my</span><span class="p">.</span><span class="n">cnf中加入</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w"></span><span class="o">#</span><span class="w"> </span><span class="n">sql_mode</span><span class="o">=</span><span class="n">STRICT_TRANS_TABLES</span><span class="p">,</span><span class="n">NO_ZERO_IN_DATE</span><span class="p">,</span><span class="n">NO_ZERO_DATE</span><span class="p">,</span><span class="n">ERROR_FOR_DIVISION_BY_ZERO</span><span class="p">,</span><span class="n">NO_ENGINE_SUBSTITUTION</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="w"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">password</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><h3 id="快速备份一个表">快速备份一个表</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">drop table backup_table; CREATE TABLE backup_table AS SELECT * FROM &lt;yourtable&gt;;
</span></span></code></pre></div><h3 id="猛烈的删除一个表">猛烈的删除一个表</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="ln">1</span><span class="cl"><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">db1</span><span class="p">.</span><span class="n">person2</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">清空表，一行行地删除表中数据，可以恢复</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w"></span><span class="k">TRUNCATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">db1</span><span class="p">.</span><span class="n">person2</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">清空表，速度及快，重置自增列的值，无法通过</span><span class="w"> </span><span class="k">transaction</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="err">恢复，并且自动删除所有外键约束</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w"></span><span class="k">drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">db1</span><span class="p">.</span><span class="n">person2</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="err">删除表，无法恢复</span><span class="w">
</span></span></span></code></pre></div><h3 id="退出mysql命令行">退出mysql命令行</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">mysql &gt; exit;
</span></span><span class="line"><span class="ln">2</span><span class="cl">mysql &gt; quit;
</span></span><span class="line"><span class="ln">3</span><span class="cl">mysql &gt; \q;
</span></span></code></pre></div></div><hr /><div class="post-navs d-flex mb-3 justify-content-evenly">
  <div class="post-nav post-prev"><i class="fas fa-fw fa-chevron-left"></i>
    <a href="https://cornradio.github.io/hugo/posts/e-h%E6%8F%92%E4%BB%B6/">E-H阅读插件/E-H下载插件
</a>
  </div><div class="post-nav post-next">
    <a href="https://cornradio.github.io/hugo/posts/2023-03-30-%E6%BA%90%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1-%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/">代码审计 基础概念
</a>
    <i class="fas fa-fw fa-chevron-right"></i>
  </div></div><section class="related-posts-wrapper">
    <h3>相关文章</h3>
    <ul class="related-posts"><li><a href="https://cornradio.github.io/hugo/posts/e-h%E6%8F%92%E4%BB%B6/">E-H阅读插件/E-H下载插件
</a></li><li><a href="https://cornradio.github.io/hugo/posts/2023-03-26-%E5%A6%82%E4%BD%95%E6%8B%B7%E8%B4%9D%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1/">如何拷贝一个对象
</a></li><li><a href="https://cornradio.github.io/hugo/posts/2023-03-25-iterm2%E8%B0%83%E6%95%99%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%92%8C%E4%B8%BB%E9%A2%98-copy/">Iterm 调教（快捷键和主题）
</a></li><li><a href="https://cornradio.github.io/hugo/posts/2023-03-25-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8vscode%E6%96%B0%E5%BB%BA%E4%B8%80%E4%B8%AAdonetcsharp%E9%A1%B9%E7%9B%AE/">如何使用vscode新建一个donet（csharp）项目
</a></li><li><a href="https://cornradio.github.io/hugo/posts/2023-03-24-%E5%9B%BD%E5%86%85%E6%B5%8B%E9%80%9F%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/">国内测速网站推荐
</a></li></ul>
  </section></div>
    </article><div class="card component row post-comments">
  <div class="card-body"><script src="https://utteranc.es/client.js"
  repo="cornradio/comments"
  issue-term="pathname"
  label="comment"
  theme="preferred-color-scheme"
  crossorigin="anonymous"
  async>
</script></div>
</div></div>
</div><aside class="col-lg-4 sidebar d-flex">
  <div class="container">
    
    <section class="card row text-center profile component">
  <div class="card-body">
    <div class="col-12 d-flex align-items-center justify-content-center"><img class="profile-avatar rounded-circle" alt="Cartman" src="https://raw.githubusercontent.com/cornradio/imgs/main/sticker2.webp" loading="lazy"
  
   />
</div>
    <div class="col-12 profile-meta"><div class="profile-name">Cartman</div><div class="profile-bio">Hey guys, this is Cartman here. I know you&#39;re probably thinking, what the hell is Cartman doing writing a blog bio? Well, let me tell you something – I&#39;m not just some fat kid from South Park anymore. I&#39;ve got opinions, ideas, and thoughts that I need to get out there. So, who am I? My name is Eric Theodore Cartman, and I&#39;m a fourth grader at South Park Elementary School. But don&#39;t let my age fool you – I&#39;m wise beyond my years. I mean, have you seen some of the crazy shit I&#39;ve been through? From fighting hippies to battling gingers, I&#39;ve seen it all. But it&#39;s not just about the battles I&#39;ve fought or the enemies I&#39;ve made. It&#39;s about the lessons I&#39;ve learned along the way. Like how sometimes, being an asshole is the only way to get what you want. Or how sometimes, even your closest friends will betray you. Anyway, enough about me. This blog is about you, the reader. I want to hear your thoughts, your ideas, your questions. So, drop me a line and let&#39;s chat. And remember – respect my authoritah!</div><div class="profile-location"><i class="fas fa-fw fa-map-marker-alt"></i>A hotdog</div></div>
  </div>
</section>
  <section class="featured-posts row card component">
    <div class="card-body">
      <h2 class="card-title">精选文章</h2>
      <ul><li><a href="https://cornradio.github.io/hugo/posts/%E8%A7%86%E9%A2%91%E7%BD%91%E7%AB%99%E9%9B%86/">视频网站集
</a></li><li><a href="https://cornradio.github.io/hugo/posts/vim/">Vim
</a></li><li><a href="https://cornradio.github.io/hugo/posts/%E5%8F%8B%E9%93%BE/">友情链接
</a></li></ul>
    </div>
  </section><section class="recent-posts row card component">
  <div class="card-body">
    <h2 class="card-title">最近文章</h2>
    <ul><li><a href="https://cornradio.github.io/hugo/posts/2023-06-13-hugo-commands/">Hugo Commands
</a></li><li><a href="https://cornradio.github.io/hugo/posts/2023-06-13-csharp_dict_ignorecase/">Csharp 字典 Key 不区分大小写
</a></li><li><a href="https://cornradio.github.io/hugo/posts/2023-06-13-parallels_crack/">Parallels Crack
</a></li><li><a href="https://cornradio.github.io/hugo/posts/nessus-%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95-for-mac/">Nessus 无法访问的解决办法 for Mac and Win
</a></li><li><a href="https://cornradio.github.io/hugo/posts/2023-04-24-xray%E6%89%AB%E6%8F%8F%E5%99%A8--%E5%A6%82%E4%BD%95%E7%99%BB%E5%BD%95%E6%89%AB%E6%8F%8F/">Xray扫描器-如何登录扫描
</a></li></ul>
  </div>
</section><section class="taxonomies row card component">
      <div class="card-body">
        <h2 class="card-title">
          <a href="https://cornradio.github.io/hugo/categories">分类</a>
        </h2>
        <div><a href="https://cornradio.github.io/hugo/categories/bash/" class="badge bg-primary text-white rounded post-taxonomy" title="bash">
            bash
          </a><a href="https://cornradio.github.io/hugo/categories/centos/" class="badge bg-primary text-white rounded post-taxonomy" title="centos">
            centos
          </a><a href="https://cornradio.github.io/hugo/categories/ssh/" class="badge bg-primary text-white rounded post-taxonomy" title="ssh">
            ssh
          </a></div>
      </div>
    </section><section class="taxonomies row card component">
      <div class="card-body">
        <h2 class="card-title">
          <a href="https://cornradio.github.io/hugo/tags">标签</a>
        </h2>
        <div><a href="https://cornradio.github.io/hugo/tags/ubuntu/" class="badge bg-primary text-white rounded post-taxonomy" title="ubuntu">
            ubuntu
          </a><a href="https://cornradio.github.io/hugo/tags/python/" class="badge bg-primary text-white rounded post-taxonomy" title="python">
            python
          </a><a href="https://cornradio.github.io/hugo/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C/" class="badge bg-primary text-white rounded post-taxonomy" title="命令行">
            命令行
          </a><a href="https://cornradio.github.io/hugo/tags/csharp/" class="badge bg-primary text-white rounded post-taxonomy" title="csharp">
            csharp
          </a><a href="https://cornradio.github.io/hugo/tags/c#/" class="badge bg-primary text-white rounded post-taxonomy" title="c#">
            c#
          </a><a href="https://cornradio.github.io/hugo/tags/linux/" class="badge bg-primary text-white rounded post-taxonomy" title="linux">
            linux
          </a><a href="https://cornradio.github.io/hugo/tags/js/" class="badge bg-primary text-white rounded post-taxonomy" title="js">
            js
          </a><a href="https://cornradio.github.io/hugo/tags/winform/" class="badge bg-primary text-white rounded post-taxonomy" title="winform">
            winform
          </a><a href="https://cornradio.github.io/hugo/tags/clash/" class="badge bg-primary text-white rounded post-taxonomy" title="clash">
            clash
          </a><a href="https://cornradio.github.io/hugo/tags/docx/" class="badge bg-primary text-white rounded post-taxonomy" title="docx">
            docx
          </a></div>
      </div>
    </section>
    
  </div>
</aside>
</div>
    </main><footer class="footer mt-auto py-3 text-center container"><nav class="social-links nav my-2 justify-content-center"><a class="nav-link social-link" target="_blank" href="https://github.com/cornradio" title="GitHub" rel="noopener noreferrer">
        <i class="fa-fw fa-2x fab fa-github"></i>
      </a><a class="nav-link social-link" target="_blank" href="https://t.me/tsogview" title="Telegram" rel="noopener noreferrer">
        <i class="fa-fw fa-2x fab fa-telegram-plane"></i>
      </a></nav>
<div class="copyright mb-2">
  Free To Share.
</div>
<div class="powered-by mb-2">
  Powered by <a href="https://gohugo.io" target="_blank" rel="noopener noreferrer">Hugo</a> and the <a href="https://github.com/razonyang/hugo-theme-bootstrap" target="_blank" rel="noopener noreferrer">Bootstrap</a> theme.
</div></footer>
<script src="https://cornradio.github.io/hugo/js/bundle.min.d09a155a67acde7c98ded699a2ecd7f0ed89b5198cbfc833557a969155fdff8f.js" integrity="sha256-0JoVWmes3nyY3taZouzX8O2JtRmMv8gzVXqWkVX9/48=" crossorigin="anonymous" defer></script><script defer src="https://cornradio.github.io/hugo/js/viewer.min.c7d80bcbb67ca1cf05edc7a16b9f91fcbca3bcbc16e52f0117b583439e5e1102.js" integrity="sha256-x9gLy7Z8oc8F7ceha5&#43;R/LyjvLwW5S8BF7WDQ55eEQI=" crossorigin="anonymous"></script>
</body>
</html>
